{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AviataSidebar.vue?5f8b","webpack:///./src/components/AviataCustomCheckbox.vue?f2be","webpack:///./src/components/AviataTicket.vue?7c7f","webpack:///./src/App.vue","webpack:///./src/components/AviataTicket.vue","webpack:///./src/components/icons/NonRefundableIcon.vue","webpack:///./src/components/icons/NonRefundableIcon.vue?28d1","webpack:///./src/components/AviataTicket.vue?7d37","webpack:///./src/components/AviataTicket.vue?8bd4","webpack:///./src/components/AviataSidebar.vue","webpack:///./src/components/AviataCustomCheckbox.vue","webpack:///./src/components/AviataCustomCheckbox.vue?6417","webpack:///./src/components/AviataCustomCheckbox.vue?2820","webpack:///./src/store/modules/search/types.ts","webpack:///./src/store/modules/search/state.ts","webpack:///./src/components/AviataSidebar.vue?b1d3","webpack:///./src/components/AviataSidebar.vue?a5ab","webpack:///./src/App.vue?1d14","webpack:///./src/App.vue?9477","webpack:///./src/api/search.service.ts","webpack:///./src/store/modules/search/actions.ts","webpack:///./src/store/modules/search/mutations.ts","webpack:///./src/store/modules/search/getters.ts","webpack:///./src/store/modules/search/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/App.vue?2d10"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","flights","flight","id","foundFlightsCount","href","type","src","itinerary","carrier","alt","carrier_name","departureDate","departureTime","title","segments","origin","origin_code","travelTime","dest","dest_code","waypoints","arriveDate","nextDay","arriveTime","refundable","price","currency","baggage","width","height","viewBox","fill","xmlns","fill-rule","clip-rule","stroke","render","components","NonRefundableIcon","props","required","computed","this","itineraries","currencySymbols","KZT","USD","EUR","setDateFormat","dep_date","arr_date","Date","formatDistanceStrict","unit","locale","ru","split","join","setTimeFromTimestamp","traveltime","MILLISECONDS_IN_SECOND","reduce","acc","segment","index","iterableArray","dep_time_iso","getTime","arr_time_iso","timestamp","time","services","keys","methods","date","dateFormat","format","SECONDS_IN_HOUR","MINUTES_IN_HOUR","hours","Math","floor","minutes","__scopeId","filter","options","resetFilterTariffOptions","label","filterOptionEnum","ONLY_DIRECT","ONLY_WITH_BAGGAGE","ONLY_REFUNDABLE","isSelectedAllAirlines","selectAllAirlines","airlines","airline","airlineCode","updateSelectedAllAirlines","resetAllFilterOptions","computedValue","String","modelValue","Boolean","Number","Array","setup","emit","set","SearchActionTypes","SearchMutationTypes","FilterOptionsEnum","initState","AviataCustomCheckbox","store","filterOptionsEnum","getters","dispatch","SET_FILTER_OPTIONS","AviataTicket","AviataSidebar","created","$store","FETCH_JSON_DATA","ServicesEnum","getJsonResponse","Promise","resolve","results","searchActions","commit","response","SET_AIRLINES","SET_FLIGHTS","payload","searchMutations","state","searchGetters","flightsByFiltering","filterByAirlines","filterByTariffOptions","includes","validating_carrier","isFiltering","option","conditions","code","actions","mutations","searchModule","App","use","mount"],"mappings":"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","file":"js/app.dce169bf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/aviata/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AviataSidebar.vue?vue&type=style&index=0&id=3b14ffe2&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AviataCustomCheckbox.vue?vue&type=style&index=0&id=72260628&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AviataTicket.vue?vue&type=style&index=0&id=51f285d0&lang=scss&scoped=true\"","<template>\r\n  <div>\r\n    <header class=\"header\" />\r\n    <main class=\"main\">\r\n      <div class=\"container\">\r\n        <div class=\"content\">\r\n          <section class=\"section section__sidebar\">\r\n            <AviataSidebar />\r\n          </section>\r\n          <section class=\"section section__tickets\">\r\n            <template v-if=\"flights && flights.length\">\r\n              <AviataTicket\r\n                v-for=\"flight in flights\"\r\n                :key=\"flight.id\"\r\n                :flight=\"flight\"\r\n              />\r\n            </template>\r\n            <template v-else>\r\n              <span class=\"text-16px text-semibold\">\r\n                Мы нашли {{ foundFlightsCount }} варианта(ов) перелета, но ни\r\n                один из вариантов не соответствует заданным фильтрам\r\n              </span>\r\n            </template>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    <footer class=\"footer\" />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport AviataTicket from \"@/components/AviataTicket.vue\";\r\nimport AviataSidebar from \"@/components/AviataSidebar.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { SearchActionTypes } from \"@/store/modules/search/types\";\r\n\r\nexport default defineComponent({\r\n  name: \"App\",\r\n  components: {\r\n    AviataTicket,\r\n    AviataSidebar,\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      flights: \"flightsByFiltering\",\r\n      foundFlightsCount: \"foundFlightsCount\",\r\n    }),\r\n  },\r\n  created(): void {\r\n    this.$store.dispatch(SearchActionTypes.FETCH_JSON_DATA);\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n  min-height: calc(100vh - 95px);\r\n  padding-bottom: 120px;\r\n  width: 100%;\r\n  background-color: $base-dark-gray;\r\n  @include laptop {\r\n    padding-bottom: 110px;\r\n  }\r\n}\r\n\r\n.content {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-top: 23px;\r\n  @include laptop {\r\n    padding-top: 15px;\r\n  }\r\n}\r\n\r\n.section {\r\n  display: flex;\r\n\r\n  &__sidebar {\r\n    width: 25%;\r\n    margin-right: 20px;\r\n    @include laptop {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n\r\n  &__tickets {\r\n    width: 75%;\r\n    flex-direction: column;\r\n  }\r\n}\r\n\r\n.header {\r\n  height: 95px;\r\n}\r\n\r\n.footer {\r\n  height: 100px;\r\n  width: 100%;\r\n  background-color: rgb(22, 22, 22);\r\n  position: absolute;\r\n  z-index: 1;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"ticket\">\r\n    <div class=\"ticket__info\">\r\n      <div class=\"ticket__flight\">\r\n        <div class=\"ticket__flight-company\">\r\n          <div class=\"ticket__flight-company-logo\">\r\n            <img\r\n              :src=\"`https://aviata.kz/static/airline-logos/21x21/${itinerary.carrier}.png`\"\r\n              alt=\"Uzbekistan airways\"\r\n            />\r\n          </div>\r\n          <div class=\"ticket__flight-company-name text-semibold\">\r\n            {{ itinerary.carrier_name }}\r\n          </div>\r\n        </div>\r\n        <div class=\"ticket__flight-info text-12px\">\r\n          <div class=\"ticket__flight-schedule\">\r\n            <div class=\"ticket__flight-date\">\r\n              {{ departureDate }}\r\n            </div>\r\n            <div class=\"ticket__flight-time text-24px\">\r\n              <strong class=\"text-semibold\">\r\n                {{ departureTime }}\r\n              </strong>\r\n            </div>\r\n          </div>\r\n          <div class=\"ticket__flight-layover-info\">\r\n            <div class=\"ticket__flight-airports\">\r\n              <span\r\n                class=\"text-uppercase text-secondary text-10px\"\r\n                :title=\"segments[0].origin\"\r\n              >\r\n                {{ segments[0].origin_code }}\r\n              </span>\r\n              <span>{{ travelTime }}</span>\r\n              <span\r\n                class=\"text-uppercase text-secondary text-10px\"\r\n                :title=\"segments[segments.length - 1].dest\"\r\n              >\r\n                {{ segments[segments.length - 1].dest_code }}\r\n              </span>\r\n            </div>\r\n            <div class=\"ticket__flight-timeline\">\r\n              <span v-if=\"segments.length > 1\"></span>\r\n            </div>\r\n            <div\r\n              class=\"ticket__flight-waypoints text-center text-warning\"\r\n              v-if=\"segments.length > 1\"\r\n            >\r\n              через {{ waypoints }}\r\n            </div>\r\n          </div>\r\n          <div class=\"ticket__flight-schedule\">\r\n            <div class=\"ticket__flight-date\">\r\n              {{ arriveDate }}\r\n              <span class=\"text-alert\" v-if=\"nextDay\">+{{ nextDay }}</span>\r\n            </div>\r\n            <div class=\"ticket__flight-time text-24px\">\r\n              <strong class=\"text-semibold\">\r\n                {{ arriveTime }}\r\n              </strong>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"ticket__details text-12px\">\r\n        <div class=\"ticket__details-info\">\r\n          <a href=\"#\" class=\"ticket__details-link base-link\">Детали перелета</a>\r\n          <a href=\"#\" class=\"ticket__details-link base-link\">Условия тарифа</a>\r\n          <span\r\n            class=\"ticket__details-status text-dark\"\r\n            v-if=\"!flight.refundable\"\r\n          >\r\n            <span class=\"icon\"><NonRefundableIcon /></span>\r\n            невозвратный\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ticket__price\">\r\n      <div class=\"ticket__price-row text-24px\">\r\n        <strong class=\"text-semibold\">\r\n          {{ flight.price }}\r\n          <span class=\"text-18px\">\r\n            {{ currency }}\r\n          </span>\r\n        </strong>\r\n      </div>\r\n      <div class=\"ticket__price-row\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"ticket__price-button text-white text-18px text-bold\"\r\n        >\r\n          Выбрать\r\n        </button>\r\n      </div>\r\n      <div class=\"ticket__price-row text-12px text-dark\">\r\n        Цена за всех пассажиров\r\n      </div>\r\n      <div class=\"ticket__price-row ticket__price-row--space-between text-12px\">\r\n        <span class=\"ticket__baggage-status\">{{ baggage }}</span>\r\n        <button class=\"ticket__add-baggage-button text-blue text-semibold\">\r\n          + Добавить богаж\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport NonRefundableIcon from \"@/components/icons/NonRefundableIcon.vue\";\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport {\r\n  FlightsModel,\r\n  ItinerariesModel,\r\n  SegmentsModel,\r\n} from \"@/api/search.service\";\r\nimport { format, formatDistanceStrict } from \"date-fns\";\r\nimport { ru } from \"date-fns/locale\";\r\n\r\nexport default defineComponent({\r\n  name: \"AviataTicket\",\r\n  components: {\r\n    NonRefundableIcon,\r\n  },\r\n  props: {\r\n    flight: {\r\n      type: Object as PropType<FlightsModel>,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    itinerary(): ItinerariesModel {\r\n      return this.flight.itineraries[0][0];\r\n    },\r\n    currency(): string {\r\n      const currencySymbols: { [key in string]: string } = {\r\n        KZT: \"₸\",\r\n        USD: \"$\",\r\n        EUR: \"€\",\r\n      };\r\n      return currencySymbols[this.flight.currency] || this.flight.currency;\r\n    },\r\n    departureDate(): string {\r\n      return this.setDateFormat(this.itinerary.dep_date, \"d MMM, eee\");\r\n    },\r\n    departureTime(): string {\r\n      return this.setDateFormat(this.itinerary.dep_date, \"HH:mm\");\r\n    },\r\n    arriveDate(): string {\r\n      return this.setDateFormat(this.itinerary.arr_date, \"d MMM, eee\");\r\n    },\r\n    arriveTime(): string {\r\n      return this.setDateFormat(this.itinerary.arr_date, \"HH:mm\");\r\n    },\r\n    nextDay(): number {\r\n      const departureDate = new Date(this.itinerary.dep_date);\r\n      const arriveDate = new Date(this.itinerary.arr_date);\r\n      return +formatDistanceStrict(arriveDate, departureDate, {\r\n        unit: \"day\",\r\n        locale: ru,\r\n      })\r\n        .split(\" \", 1)\r\n        .join();\r\n    },\r\n    travelTime(): string {\r\n      return this.setTimeFromTimestamp(this.itinerary.traveltime);\r\n    },\r\n    segments(): SegmentsModel[] {\r\n      return this.itinerary.segments;\r\n    },\r\n    waypoints(): string {\r\n      if (this.segments.length <= 1) return \"\";\r\n      const MILLISECONDS_IN_SECOND = 1000;\r\n      return this.segments.reduce((acc, segment, index, iterableArray) => {\r\n        if (index === iterableArray.length - 1) return acc;\r\n        const departureTime = new Date(segment.dep_time_iso).getTime();\r\n        const arriveTime = new Date(segment.arr_time_iso).getTime();\r\n        const timestamp = (arriveTime - departureTime) / MILLISECONDS_IN_SECOND;\r\n        const time = this.setTimeFromTimestamp(timestamp);\r\n        return `${segment.dest}, ${time} \\n ${acc}`;\r\n      }, \"\");\r\n    },\r\n    baggage(): string {\r\n      return this.flight.services[Object.keys(this.flight.services)[0]].value;\r\n    },\r\n  },\r\n  methods: {\r\n    setDateFormat(date: string, dateFormat: string): string {\r\n      return format(new Date(date), dateFormat, {\r\n        locale: ru,\r\n      });\r\n    },\r\n    setTimeFromTimestamp(timestamp: number): string {\r\n      const SECONDS_IN_HOUR = 3600;\r\n      const MINUTES_IN_HOUR = 60;\r\n      const hours = Math.floor(timestamp / SECONDS_IN_HOUR);\r\n      const minutes = Math.floor(\r\n        timestamp / MINUTES_IN_HOUR - hours * MINUTES_IN_HOUR\r\n      );\r\n      return `${hours}ч ${minutes}м`;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ticket {\r\n  height: 168px;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  @include laptop {\r\n    margin-bottom: 10px;\r\n  }\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n  &__info {\r\n    height: 100%;\r\n    width: 67%;\r\n    background-color: $base-white;\r\n    padding: 40px 40px 18px 40px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    @include laptop {\r\n      padding: 35px 35px 14px 35px;\r\n    }\r\n  }\r\n  &__flight {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n  &__flight-company {\r\n    display: flex;\r\n    width: 8rem;\r\n    flex-direction: row;\r\n    margin-right: 28px;\r\n    align-items: center;\r\n    @include laptop {\r\n      margin-right: 15px;\r\n    }\r\n  }\r\n  &__flight-company-logo {\r\n    margin-right: 11.5px;\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n  &__flight-info {\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n  &__flight-schedule {\r\n    margin-right: 28px;\r\n    @include laptop {\r\n      margin-right: 15px;\r\n    }\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n  &__flight-date {\r\n    white-space: nowrap;\r\n  }\r\n  &__flight-layover-info {\r\n    margin-right: 28px;\r\n    width: 12rem;\r\n    @include laptop {\r\n      margin-right: 15px;\r\n      width: 10rem;\r\n    }\r\n  }\r\n  &__flight-airports {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  &__flight-timeline {\r\n    width: 100%;\r\n    border-bottom: 1px solid $base-gray;\r\n    position: relative;\r\n    margin: 3.5px 0;\r\n\r\n    &:before,\r\n    &:after,\r\n    span {\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 5px;\r\n      height: 5px;\r\n      border-radius: 50%;\r\n      border: 1px solid $base-gray;\r\n      background-color: $base-white;\r\n      top: calc(50% - 2px);\r\n      box-sizing: border-box;\r\n    }\r\n    &:before {\r\n      left: -2px;\r\n    }\r\n    &:after {\r\n      right: -2px;\r\n    }\r\n    span {\r\n      left: 50%;\r\n    }\r\n  }\r\n  &__details {\r\n    display: flex;\r\n  }\r\n  &__details-info {\r\n    display: flex;\r\n  }\r\n  &__details-link {\r\n    margin-right: 1.6rem;\r\n  }\r\n  &__details-status {\r\n    display: flex;\r\n  }\r\n  &__price {\r\n    height: 100%;\r\n    width: 33%;\r\n    padding: 20px;\r\n    background-color: $base-light-gray;\r\n  }\r\n  &__price-row {\r\n    width: 100%;\r\n    margin-bottom: 8px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n    &--space-between {\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n  &__price-button {\r\n    width: 100%;\r\n    height: 40px;\r\n    background-color: $base-green;\r\n    border-radius: 4px;\r\n    padding: 7px 12px;\r\n    transition: 0.4s;\r\n    &:hover {\r\n      background-color: $base-dark-green;\r\n    }\r\n  }\r\n  &__baggage-status {\r\n    margin-right: 6px;\r\n  }\r\n  &__add-baggage-button {\r\n    background-color: $base-deep-light-blue;\r\n    padding: 3px 8px;\r\n    border-radius: 2px;\r\n    transition: 0.4s;\r\n    &:hover {\r\n      background-color: $base-button-blue;\r\n      color: $base-white;\r\n    }\r\n  }\r\n}\r\n.icon {\r\n  display: inline;\r\n  height: 16px;\r\n  width: 16px;\r\n  margin-right: 7px;\r\n}\r\n</style>\r\n","<template>\r\n  <svg\r\n    width=\"16\"\r\n    height=\"16\"\r\n    viewBox=\"0 0 20 20\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fill-rule=\"evenodd\"\r\n      clip-rule=\"evenodd\"\r\n      d=\"M4.62478 4.63247L2.18383 5.00014L2 3.77966L5.66142 3.22817L6.21291 6.88958L4.99244 7.07341L4.62478 4.63247Z\"\r\n      fill=\"#707276\"\r\n    />\r\n    <path\r\n      fill-rule=\"evenodd\"\r\n      clip-rule=\"evenodd\"\r\n      d=\"M5.50024 3.53116C3.45478 4.96007 2.1168 7.33198 2.1168 10.0164C2.1168 14.3825 5.65618 17.9218 10.0222 17.9218C14.3883 17.9218 17.9277 14.3825 17.9277 10.0164C17.9277 5.66297 14.4087 2.13144 10.0601 2.11105L10.035 3.11098C13.8429 3.11789 16.9277 6.2069 16.9277 10.0164C16.9277 13.8302 13.836 16.9218 10.0222 16.9218C6.20847 16.9218 3.1168 13.8302 3.1168 10.0164C3.1168 7.82671 4.13598 5.87507 5.72584 4.60995L5.50024 4.61576V3.99864V3.53116Z\"\r\n      fill=\"#707276\"\r\n    />\r\n    <path\r\n      d=\"M1.64918 16.7664L1.2933 17.1176L1.64451 17.4735L2.51148 18.352L2.86269 18.7078L3.21857 18.3566L18.2986 3.47419L18.6545 3.12298L18.3032 2.7671L17.4363 1.88863L17.0851 1.53275L16.7292 1.88397L1.64918 16.7664Z\"\r\n      fill=\"#707276\"\r\n      stroke=\"white\"\r\n    />\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"NonRefundableIcon\",\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./NonRefundableIcon.vue?vue&type=template&id=e5397ae0\"\nimport script from \"./NonRefundableIcon.vue?vue&type=script&lang=js\"\nexport * from \"./NonRefundableIcon.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","\r\nimport NonRefundableIcon from \"@/components/icons/NonRefundableIcon.vue\";\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport {\r\n  FlightsModel,\r\n  ItinerariesModel,\r\n  SegmentsModel,\r\n} from \"@/api/search.service\";\r\nimport { format, formatDistanceStrict } from \"date-fns\";\r\nimport { ru } from \"date-fns/locale\";\r\n\r\nexport default defineComponent({\r\n  name: \"AviataTicket\",\r\n  components: {\r\n    NonRefundableIcon,\r\n  },\r\n  props: {\r\n    flight: {\r\n      type: Object as PropType<FlightsModel>,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    itinerary(): ItinerariesModel {\r\n      return this.flight.itineraries[0][0];\r\n    },\r\n    currency(): string {\r\n      const currencySymbols: { [key in string]: string } = {\r\n        KZT: \"₸\",\r\n        USD: \"$\",\r\n        EUR: \"€\",\r\n      };\r\n      return currencySymbols[this.flight.currency] || this.flight.currency;\r\n    },\r\n    departureDate(): string {\r\n      return this.setDateFormat(this.itinerary.dep_date, \"d MMM, eee\");\r\n    },\r\n    departureTime(): string {\r\n      return this.setDateFormat(this.itinerary.dep_date, \"HH:mm\");\r\n    },\r\n    arriveDate(): string {\r\n      return this.setDateFormat(this.itinerary.arr_date, \"d MMM, eee\");\r\n    },\r\n    arriveTime(): string {\r\n      return this.setDateFormat(this.itinerary.arr_date, \"HH:mm\");\r\n    },\r\n    nextDay(): number {\r\n      const departureDate = new Date(this.itinerary.dep_date);\r\n      const arriveDate = new Date(this.itinerary.arr_date);\r\n      return +formatDistanceStrict(arriveDate, departureDate, {\r\n        unit: \"day\",\r\n        locale: ru,\r\n      })\r\n        .split(\" \", 1)\r\n        .join();\r\n    },\r\n    travelTime(): string {\r\n      return this.setTimeFromTimestamp(this.itinerary.traveltime);\r\n    },\r\n    segments(): SegmentsModel[] {\r\n      return this.itinerary.segments;\r\n    },\r\n    waypoints(): string {\r\n      if (this.segments.length <= 1) return \"\";\r\n      const MILLISECONDS_IN_SECOND = 1000;\r\n      return this.segments.reduce((acc, segment, index, iterableArray) => {\r\n        if (index === iterableArray.length - 1) return acc;\r\n        const departureTime = new Date(segment.dep_time_iso).getTime();\r\n        const arriveTime = new Date(segment.arr_time_iso).getTime();\r\n        const timestamp = (arriveTime - departureTime) / MILLISECONDS_IN_SECOND;\r\n        const time = this.setTimeFromTimestamp(timestamp);\r\n        return `${segment.dest}, ${time} \\n ${acc}`;\r\n      }, \"\");\r\n    },\r\n    baggage(): string {\r\n      return this.flight.services[Object.keys(this.flight.services)[0]].value;\r\n    },\r\n  },\r\n  methods: {\r\n    setDateFormat(date: string, dateFormat: string): string {\r\n      return format(new Date(date), dateFormat, {\r\n        locale: ru,\r\n      });\r\n    },\r\n    setTimeFromTimestamp(timestamp: number): string {\r\n      const SECONDS_IN_HOUR = 3600;\r\n      const MINUTES_IN_HOUR = 60;\r\n      const hours = Math.floor(timestamp / SECONDS_IN_HOUR);\r\n      const minutes = Math.floor(\r\n        timestamp / MINUTES_IN_HOUR - hours * MINUTES_IN_HOUR\r\n      );\r\n      return `${hours}ч ${minutes}м`;\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./AviataTicket.vue?vue&type=template&id=51f285d0&scoped=true\"\nimport script from \"./AviataTicket.vue?vue&type=script&lang=ts\"\nexport * from \"./AviataTicket.vue?vue&type=script&lang=ts\"\n\nimport \"./AviataTicket.vue?vue&type=style&index=0&id=51f285d0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-51f285d0\"\n\nexport default script","<template>\r\n  <div class=\"sidebar text-12px\">\r\n    <div class=\"sidebar-filter\">\r\n      <h3 class=\"sidebar-filter__title text-bold text-14px\">Опции тарифа</h3>\r\n      <div class=\"sidebar-filter__reset-block\" v-if=\"filter.options.length\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"sidebar-filter__reset-button\"\r\n          @click=\"resetFilterTariffOptions\"\r\n        ></button>\r\n        <div class=\"sidebar-filter__reset-tooltip\">Сбросить фильтр</div>\r\n      </div>\r\n      <div class=\"sidebar-filter__options\">\r\n        <ul class=\"sidebar-filter__option-list\">\r\n          <li class=\"sidebar-filter__option-item\">\r\n            <AviataCustomCheckbox\r\n              label=\"Только прямые\"\r\n              v-model=\"filter.options\"\r\n              :value=\"filterOptionEnum.ONLY_DIRECT\"\r\n            />\r\n          </li>\r\n          <li class=\"sidebar-filter__option-item\">\r\n            <AviataCustomCheckbox\r\n              label=\"Только с багажом\"\r\n              v-model=\"filter.options\"\r\n              :value=\"filterOptionEnum.ONLY_WITH_BAGGAGE\"\r\n            />\r\n          </li>\r\n          <li class=\"sidebar-filter__option-item\">\r\n            <AviataCustomCheckbox\r\n              label=\"Только возвратные\"\r\n              v-model=\"filter.options\"\r\n              :value=\"filterOptionEnum.ONLY_REFUNDABLE\"\r\n            />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"sidebar-filter\">\r\n      <h3 class=\"sidebar-filter__title text-bold text-14px\">Авиакомпании</h3>\r\n      <div class=\"sidebar-filter__options\">\r\n        <AviataCustomCheckbox\r\n          label=\"Все\"\r\n          v-model=\"isSelectedAllAirlines\"\r\n          @change=\"selectAllAirlines\"\r\n        />\r\n      </div>\r\n      <div class=\"sidebar-filter__options sidebar-filter__options--scroll\">\r\n        <ul class=\"sidebar-filter__option-list\">\r\n          <li\r\n            class=\"sidebar-filter__option-item\"\r\n            v-for=\"(airline, airlineCode) in airlines\"\r\n            :key=\"airlineCode\"\r\n          >\r\n            <AviataCustomCheckbox\r\n              :label=\"airline\"\r\n              :value=\"airlineCode\"\r\n              v-model=\"filter.airlines\"\r\n              @change=\"updateSelectedAllAirlines\"\r\n            />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"sidebar-filter sidebar-filter--reset\">\r\n      <a href=\"#\" class=\"base-link\" @click.prevent=\"resetAllFilterOptions\">\r\n        Сбросить все фильтры\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport AviataCustomCheckbox from \"@/components/AviataCustomCheckbox.vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { computed, defineComponent, ref, watch } from \"vue\";\r\nimport { AirlinesModel } from \"@/api/search.service\";\r\nimport { SearchActionTypes } from \"@/store/modules/search/types\";\r\nimport { FilterModel, FilterOptionsEnum } from \"@/store/modules/search/state\";\r\n\r\nexport default defineComponent({\r\n  name: \"AviataSidebar\",\r\n  components: {\r\n    AviataCustomCheckbox,\r\n  },\r\n  setup: () => {\r\n    const store = useStore();\r\n    const isSelectedAllAirlines = ref<boolean>(true);\r\n    const filterOptionsEnum = ref(FilterOptionsEnum);\r\n    let filter = ref<FilterModel>({\r\n      airlines: [],\r\n      options: [],\r\n    });\r\n    const airlines = computed<AirlinesModel>(() => store.getters.airlines);\r\n    watch(airlines, (value) => {\r\n      if (value === null) return;\r\n      filter.value.airlines = Object.keys(value);\r\n    });\r\n    watch(filter.value, (value) => {\r\n      store.dispatch(SearchActionTypes.SET_FILTER_OPTIONS, value);\r\n    });\r\n    function resetAllFilterOptions(): void {\r\n      isSelectedAllAirlines.value = true;\r\n      filter.value.airlines = Object.keys(airlines.value);\r\n      filter.value.options = [];\r\n    }\r\n    function resetFilterTariffOptions(): void {\r\n      filter.value.options = [];\r\n    }\r\n    function selectAllAirlines(): void {\r\n      filter.value.airlines = [];\r\n      if (isSelectedAllAirlines.value) {\r\n        for (let key in airlines.value) {\r\n          filter.value.airlines.push(key);\r\n        }\r\n      }\r\n    }\r\n    function updateSelectedAllAirlines(): void {\r\n      isSelectedAllAirlines.value =\r\n        filter.value.airlines.length === Object.keys(airlines.value).length;\r\n    }\r\n    return {\r\n      isSelectedAllAirlines,\r\n      filterOptionEnum: filterOptionsEnum,\r\n      filter,\r\n      airlines,\r\n      resetAllFilterOptions,\r\n      resetFilterTariffOptions,\r\n      selectAllAirlines,\r\n      updateSelectedAllAirlines,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.sidebar {\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: content-box;\r\n}\r\n.sidebar-filter {\r\n  width: 100%;\r\n  background-color: $base-light-gray;\r\n  border-radius: 4px;\r\n  padding: 12px 4px 0 0;\r\n  margin-bottom: 12px;\r\n  max-height: 320px;\r\n  position: relative;\r\n  @include laptop {\r\n    margin-bottom: 10px;\r\n  }\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n  &__reset-block {\r\n    position: absolute;\r\n    top: 15px;\r\n    right: 15px;\r\n  }\r\n  &__reset-button {\r\n    height: 20px;\r\n    width: 20px;\r\n    background-image: url(\"../assets/icons/icon-close-filter.svg\");\r\n    background-color: transparent;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    transition: background 0.4s;\r\n    &:hover {\r\n      background-image: url(\"../assets/icons/icon-close-filter-hover.svg\");\r\n    }\r\n    &:hover + .sidebar-filter__reset-tooltip {\r\n      visibility: visible;\r\n      opacity: 1;\r\n    }\r\n  }\r\n  &__reset-tooltip {\r\n    visibility: hidden;\r\n    opacity: 0;\r\n    transition: 0.4s ease-in-out;\r\n    padding: 12px;\r\n    background-color: $base-white;\r\n    position: absolute;\r\n    top: -55px;\r\n    right: -55px;\r\n    border: 1px solid $base-dark-gray;\r\n    border-radius: 6px;\r\n    white-space: nowrap;\r\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\r\n    &:after {\r\n      content: \"\";\r\n      position: absolute;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      bottom: -20px;\r\n      border: 10px solid transparent;\r\n      border-top: 100px solid $base-dark-gray;\r\n    }\r\n    &:after {\r\n      border-top: 10px solid $base-white;\r\n      bottom: -19px;\r\n    }\r\n  }\r\n  &--reset {\r\n    background-color: transparent;\r\n    margin-bottom: 0;\r\n    padding: 0;\r\n  }\r\n  &__title {\r\n    margin: 0 10px 12px 10px;\r\n  }\r\n  &__options {\r\n    &--scroll {\r\n      overflow-y: auto;\r\n      max-height: calc(305px - 80px);\r\n      position: relative;\r\n      &::-webkit-scrollbar {\r\n        width: 3px;\r\n        background: $base-light-gray;\r\n        border-radius: 2px;\r\n        position: absolute;\r\n        right: -25px;\r\n      }\r\n      &::-webkit-scrollbar-button:start {\r\n        display: none;\r\n      }\r\n      &::-webkit-scrollbar-button:end {\r\n        display: none;\r\n      }\r\n      &::-webkit-scrollbar-thumb {\r\n        background: $base-dark-gray;\r\n        border-radius: 3px;\r\n        width: 2px;\r\n        height: 117px;\r\n        background-clip: padding-box;\r\n      }\r\n    }\r\n  }\r\n  &__option-list {\r\n    width: 100%;\r\n  }\r\n  &__option-item {\r\n    display: inline-block;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <label class=\"custom-checkbox\">\r\n    <input\r\n      class=\"custom-checkbox__input\"\r\n      type=\"checkbox\"\r\n      v-model=\"computedValue\"\r\n      :name=\"value\"\r\n      :value=\"value\"\r\n    />\r\n    <span class=\"custom-checkbox__checkmark\"></span>\r\n    <span>{{ label }}</span>\r\n  </label>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"AviataCustomCheckbox\",\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    modelValue: [Boolean, String, Number, Array as any],\r\n    value: String,\r\n  },\r\n  setup: (props, { emit }) => {\r\n    const computedValue = computed({\r\n      get(): any {\r\n        return props.modelValue;\r\n      },\r\n      set(value: any) {\r\n        emit(\"update:modelValue\", value);\r\n      },\r\n    });\r\n    return { computedValue };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.custom-checkbox {\r\n  width: 100%;\r\n  display: inline-block;\r\n  padding: 10px 12px;\r\n  position: relative;\r\n  cursor: pointer;\r\n  transition: 0.4s;\r\n  &:hover {\r\n    background-color: $base-light-gray-hover;\r\n  }\r\n  &__input {\r\n    position: absolute;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n    height: 0;\r\n    width: 0;\r\n  }\r\n  &__checkmark {\r\n    display: inline-block;\r\n    height: 12px;\r\n    width: 12px;\r\n    border: 1px solid $base-gray;\r\n    border-radius: 2px;\r\n    margin-right: 12px;\r\n    background-color: $base-white;\r\n    transition: background-color 0.4s ease-in-out;\r\n  }\r\n  &__input:hover ~ .custom-checkbox__checkmark {\r\n    background-image: url(\"../assets/icons/checbox-hover.svg\");\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    transition: background-image 0.4s ease-in-out;\r\n  }\r\n  &__input:checked ~ .custom-checkbox__checkmark {\r\n    border: 1px solid $base-green;\r\n    background-image: url(\"../assets/icons/checbox-active.svg\");\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    transition: background-image 0.4s ease-in-out;\r\n  }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, computed } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"AviataCustomCheckbox\",\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    modelValue: [Boolean, String, Number, Array as any],\r\n    value: String,\r\n  },\r\n  setup: (props, { emit }) => {\r\n    const computedValue = computed({\r\n      get(): any {\r\n        return props.modelValue;\r\n      },\r\n      set(value: any) {\r\n        emit(\"update:modelValue\", value);\r\n      },\r\n    });\r\n    return { computedValue };\r\n  },\r\n});\r\n","import { render } from \"./AviataCustomCheckbox.vue?vue&type=template&id=72260628&scoped=true\"\nimport script from \"./AviataCustomCheckbox.vue?vue&type=script&lang=ts\"\nexport * from \"./AviataCustomCheckbox.vue?vue&type=script&lang=ts\"\n\nimport \"./AviataCustomCheckbox.vue?vue&type=style&index=0&id=72260628&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-72260628\"\n\nexport default script","export enum SearchActionTypes {\r\n  FETCH_JSON_DATA = \"[Search Action] Fetch Json Data\",\r\n  SET_FILTER_OPTIONS = \"[Search Action] Set Filter Options\",\r\n}\r\n\r\nexport enum SearchMutationTypes {\r\n  SET_AIRLINES = \"[Search Mutation] Set Airlines\",\r\n  SET_FLIGHTS = \"[Search Mutation] Set Flights\",\r\n  SET_FILTER_OPTIONS = \"[Search Mutation] Set Filter Options\",\r\n}\r\n","import { AirlinesModel, FlightsModel } from \"@/api/search.service\";\r\n\r\nexport const initState: State = {\r\n  airlines: null,\r\n  flights: null,\r\n  filter: {\r\n    airlines: [],\r\n    options: [],\r\n  },\r\n};\r\n\r\nexport interface State {\r\n  airlines: AirlinesModel;\r\n  flights: FlightsModel[];\r\n  filter: FilterModel;\r\n}\r\n\r\nexport interface FilterModel {\r\n  airlines: string[];\r\n  options: FilterOptionsEnum[];\r\n}\r\n\r\nexport enum FilterOptionsEnum {\r\n  ONLY_REFUNDABLE = \"ONLY_REFUNDABLE\",\r\n  ONLY_WITH_BAGGAGE = \"ONLY_WITH_BAGGAGE\",\r\n  ONLY_DIRECT = \"ONLY_DIRECT\",\r\n}\r\n","\r\nimport AviataCustomCheckbox from \"@/components/AviataCustomCheckbox.vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { computed, defineComponent, ref, watch } from \"vue\";\r\nimport { AirlinesModel } from \"@/api/search.service\";\r\nimport { SearchActionTypes } from \"@/store/modules/search/types\";\r\nimport { FilterModel, FilterOptionsEnum } from \"@/store/modules/search/state\";\r\n\r\nexport default defineComponent({\r\n  name: \"AviataSidebar\",\r\n  components: {\r\n    AviataCustomCheckbox,\r\n  },\r\n  setup: () => {\r\n    const store = useStore();\r\n    const isSelectedAllAirlines = ref<boolean>(true);\r\n    const filterOptionsEnum = ref(FilterOptionsEnum);\r\n    let filter = ref<FilterModel>({\r\n      airlines: [],\r\n      options: [],\r\n    });\r\n    const airlines = computed<AirlinesModel>(() => store.getters.airlines);\r\n    watch(airlines, (value) => {\r\n      if (value === null) return;\r\n      filter.value.airlines = Object.keys(value);\r\n    });\r\n    watch(filter.value, (value) => {\r\n      store.dispatch(SearchActionTypes.SET_FILTER_OPTIONS, value);\r\n    });\r\n    function resetAllFilterOptions(): void {\r\n      isSelectedAllAirlines.value = true;\r\n      filter.value.airlines = Object.keys(airlines.value);\r\n      filter.value.options = [];\r\n    }\r\n    function resetFilterTariffOptions(): void {\r\n      filter.value.options = [];\r\n    }\r\n    function selectAllAirlines(): void {\r\n      filter.value.airlines = [];\r\n      if (isSelectedAllAirlines.value) {\r\n        for (let key in airlines.value) {\r\n          filter.value.airlines.push(key);\r\n        }\r\n      }\r\n    }\r\n    function updateSelectedAllAirlines(): void {\r\n      isSelectedAllAirlines.value =\r\n        filter.value.airlines.length === Object.keys(airlines.value).length;\r\n    }\r\n    return {\r\n      isSelectedAllAirlines,\r\n      filterOptionEnum: filterOptionsEnum,\r\n      filter,\r\n      airlines,\r\n      resetAllFilterOptions,\r\n      resetFilterTariffOptions,\r\n      selectAllAirlines,\r\n      updateSelectedAllAirlines,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./AviataSidebar.vue?vue&type=template&id=3b14ffe2&scoped=true\"\nimport script from \"./AviataSidebar.vue?vue&type=script&lang=ts\"\nexport * from \"./AviataSidebar.vue?vue&type=script&lang=ts\"\n\nimport \"./AviataSidebar.vue?vue&type=style&index=0&id=3b14ffe2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3b14ffe2\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\nimport AviataTicket from \"@/components/AviataTicket.vue\";\r\nimport AviataSidebar from \"@/components/AviataSidebar.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { SearchActionTypes } from \"@/store/modules/search/types\";\r\n\r\nexport default defineComponent({\r\n  name: \"App\",\r\n  components: {\r\n    AviataTicket,\r\n    AviataSidebar,\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      flights: \"flightsByFiltering\",\r\n      foundFlightsCount: \"foundFlightsCount\",\r\n    }),\r\n  },\r\n  created(): void {\r\n    this.$store.dispatch(SearchActionTypes.FETCH_JSON_DATA);\r\n  },\r\n});\r\n","import { render } from \"./App.vue?vue&type=template&id=4ed6ced3&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4ed6ced3&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4ed6ced3\"\n\nexport default script","import { default as results } from \"./results.json\";\r\n\r\nexport const getJsonResponse = (): Promise<ResponseModel> => {\r\n  return Promise.resolve<ResponseModel>(results);\r\n};\r\n\r\nexport interface ResponseModel {\r\n  airlines: AirlinesModel;\r\n  flights: FlightsModel[];\r\n}\r\n\r\nexport interface AirlinesModel {\r\n  [key: string]: string;\r\n}\r\n\r\nexport interface FlightsModel {\r\n  itineraries: Array<ItinerariesModel[]>;\r\n  price_details: PriceDetailsModel;\r\n  price: string;\r\n  currency: string;\r\n  bonus_usage: boolean;\r\n  services: ServicesType;\r\n  price_raw: number;\r\n  validating_carrier: string;\r\n  id: string;\r\n  has_meta: boolean;\r\n  has_offers: boolean;\r\n  best_time: number;\r\n  bonus_accrual: boolean;\r\n  bonus_accrual_details: null;\r\n  bonus_usage_details: null;\r\n  provider: string;\r\n  refundable: boolean;\r\n  provider_class: string;\r\n}\r\n\r\ninterface PriceDetailsModel {\r\n  base_raw: number;\r\n  modifiers: string;\r\n  modifiers_raw: number;\r\n  taxes: string;\r\n  base: string;\r\n  taxes_raw: number;\r\n}\r\n\r\nexport type ServicesType = {\r\n  [key in ServicesEnum | string]: ServiceModel;\r\n};\r\n\r\nexport enum ServicesEnum {\r\n  \"0PC\" = \"0PC\",\r\n  \"1PC\" = \"1PC\",\r\n  \"20KG\" = \"20KG\",\r\n}\r\n\r\ninterface ServiceModel {\r\n  full_description: string;\r\n  alt_text: string;\r\n  code: string;\r\n  description: string;\r\n  title: string;\r\n  default: string;\r\n  solution: string;\r\n  value: string;\r\n  icon: string;\r\n}\r\n\r\nexport interface ItinerariesModel {\r\n  dep_date: string;\r\n  hash: string;\r\n  dir_index: number;\r\n  price: ItinerariesPriceModel;\r\n  layovers: number[];\r\n  arr_date: string;\r\n  allowed_offers: [];\r\n  carrier_name: \"Air Astana\";\r\n  is_meta: false;\r\n  segments: SegmentsModel[];\r\n  stops: number;\r\n  carrier: string;\r\n  refundable: boolean;\r\n  traveltime: number;\r\n}\r\n\r\nexport interface SegmentsModel {\r\n  origin: string;\r\n  airport_dest: string;\r\n  arr_time_iso: string;\r\n  dep_terminal: string;\r\n  dep_time_iso: string;\r\n  carrier_name: string;\r\n  stop_locations: [];\r\n  dest_code: string;\r\n  airport_dest_terminal: string;\r\n  equipment: string;\r\n  flight_num: string;\r\n  stops: number;\r\n  airport_origin: string;\r\n  cabin: string;\r\n  dep_time: string;\r\n  dest: string;\r\n  origin_code: string;\r\n  baggage_options: BaggageOptionsModel[];\r\n  arr_time: string;\r\n  plane: string;\r\n  services: ServiceModel;\r\n  fare_basis_code: string;\r\n  airport_origin_terminal: string;\r\n  arr_terminal: string;\r\n  carrier: string;\r\n  fare_seats: number;\r\n}\r\n\r\ninterface ItinerariesPriceModel {\r\n  currency: string;\r\n  amount: string;\r\n  price_raw: number;\r\n}\r\n\r\ninterface BaggageOptionsModel {\r\n  unit: string;\r\n  value: number;\r\n}\r\n","import {\r\n  SearchActionTypes,\r\n  SearchMutationTypes,\r\n} from \"@/store/modules/search/types\";\r\nimport { ActionContext, ActionTree } from \"vuex\";\r\nimport { FilterModel, State } from \"@/store/modules/search/state\";\r\nimport { Mutations } from \"@/store/modules/search/mutations\";\r\nimport { getJsonResponse } from \"@/api/search.service\";\r\n\r\ntype AugmentedActionContext = {\r\n  commit<K extends keyof Mutations>(\r\n    key: K,\r\n    payload: Parameters<Mutations[K]>[1]\r\n  ): ReturnType<Mutations[K]>;\r\n} & Omit<ActionContext<State, State>, \"commit\">;\r\n\r\nexport interface Actions {\r\n  [SearchActionTypes.FETCH_JSON_DATA]({ commit }: AugmentedActionContext): void;\r\n  [SearchActionTypes.SET_FILTER_OPTIONS](\r\n    { commit }: AugmentedActionContext,\r\n    payload: FilterModel\r\n  ): void;\r\n}\r\n\r\nexport const searchActions: ActionTree<State, State> & Actions = {\r\n  async [SearchActionTypes.FETCH_JSON_DATA]({ commit }) {\r\n    const response = await getJsonResponse();\r\n    commit(SearchMutationTypes.SET_AIRLINES, response.airlines);\r\n    commit(SearchMutationTypes.SET_FLIGHTS, response.flights);\r\n  },\r\n  [SearchActionTypes.SET_FILTER_OPTIONS]({ commit }, payload: FilterModel) {\r\n    commit(SearchMutationTypes.SET_FILTER_OPTIONS, payload);\r\n  },\r\n};\r\n","import { SearchMutationTypes } from \"@/store/modules/search/types\";\r\nimport { FilterModel, State } from \"@/store/modules/search/state\";\r\nimport { MutationTree } from \"vuex\";\r\nimport { AirlinesModel, FlightsModel } from \"@/api/search.service\";\r\n\r\nexport type Mutations<S = State> = {\r\n  [SearchMutationTypes.SET_AIRLINES](state: S, payload: AirlinesModel): void;\r\n  [SearchMutationTypes.SET_FLIGHTS](state: S, payload: FlightsModel[]): void;\r\n  [SearchMutationTypes.SET_FILTER_OPTIONS](\r\n    state: S,\r\n    payload: FilterModel\r\n  ): void;\r\n};\r\n\r\nexport const searchMutations: MutationTree<State> & Mutations = {\r\n  [SearchMutationTypes.SET_AIRLINES](state, payload: AirlinesModel) {\r\n    state.airlines = payload;\r\n  },\r\n  [SearchMutationTypes.SET_FLIGHTS](state, payload: FlightsModel[]) {\r\n    state.flights = payload;\r\n  },\r\n  [SearchMutationTypes.SET_FILTER_OPTIONS](state, payload: FilterModel) {\r\n    state.filter = { ...payload };\r\n  },\r\n};\r\n","import { GetterTree } from \"vuex\";\r\nimport {\r\n  FilterModel,\r\n  FilterOptionsEnum,\r\n  State,\r\n} from \"@/store/modules/search/state\";\r\nimport {\r\n  AirlinesModel,\r\n  FlightsModel,\r\n  ServicesEnum,\r\n} from \"@/api/search.service\";\r\n\r\nexport type Getters = {\r\n  airlines(state: State): AirlinesModel;\r\n  foundFlightsCount(state: State): number;\r\n  flightsByFiltering(state: State): FlightsModel[];\r\n};\r\n\r\nexport const searchGetters: GetterTree<State, State> & Getters = {\r\n  airlines: (state) => state.airlines,\r\n  foundFlightsCount: (state: State): number => {\r\n    if (state.flights === null) return 0;\r\n    return state.flights.length;\r\n  },\r\n  flightsByFiltering: (state) => {\r\n    let flights: FlightsModel[] = state.flights;\r\n    const filter: FilterModel = state.filter;\r\n\r\n    if (!flights) return flights;\r\n\r\n    if (filter.airlines && filter.airlines.length) {\r\n      flights = filterByAirlines(flights, filter.airlines);\r\n    } else {\r\n      return [];\r\n    }\r\n\r\n    if (filter.options && filter.options.length) {\r\n      flights = filterByTariffOptions(flights, filter.options);\r\n    }\r\n    return flights;\r\n  },\r\n};\r\n\r\nconst filterByAirlines = (\r\n  flights: FlightsModel[],\r\n  airlines: string[]\r\n): FlightsModel[] => {\r\n  return flights.filter((flight) => {\r\n    if (airlines.includes(flight.validating_carrier)) {\r\n      return flight;\r\n    }\r\n  });\r\n};\r\n\r\nconst filterByTariffOptions = (\r\n  flights: FlightsModel[],\r\n  options: FilterOptionsEnum[]\r\n): FlightsModel[] => {\r\n  return flights.filter((flight) => {\r\n    let isFiltering = true;\r\n    for (const option of options) {\r\n      const conditions = {\r\n        [FilterOptionsEnum.ONLY_REFUNDABLE]: isFiltering && flight.refundable,\r\n        [FilterOptionsEnum.ONLY_DIRECT]:\r\n          isFiltering && flight.itineraries[0][0].segments.length === 1,\r\n        [FilterOptionsEnum.ONLY_WITH_BAGGAGE]:\r\n          isFiltering &&\r\n          flight.services[Object.keys(flight.services)[0]].code !==\r\n            ServicesEnum[\"0PC\"],\r\n      };\r\n      isFiltering = conditions[option];\r\n    }\r\n    if (isFiltering) return flight;\r\n  });\r\n};\r\n","import { initState } from \"@/store/modules/search/state\";\r\nimport { searchActions } from \"@/store/modules/search/actions\";\r\nimport { searchMutations } from \"@/store/modules/search/mutations\";\r\nimport { searchGetters } from \"@/store/modules/search/getters\";\r\n\r\nexport default {\r\n  state: { ...initState },\r\n  actions: searchActions,\r\n  mutations: searchMutations,\r\n  getters: searchGetters,\r\n};\r\n","import {\n  CommitOptions,\n  createStore,\n  DispatchOptions,\n  Store as VuexStore,\n} from \"vuex\";\nimport searchModule from \"./modules/search\";\nimport { State } from \"@/store/modules/search/state\";\nimport { Mutations } from \"@/store/modules/search/mutations\";\nimport { Actions } from \"@/store/modules/search/actions\";\nimport { Getters } from \"@/store/modules/search/getters\";\n\nexport default createStore({\n  modules: {\n    searchModule,\n  },\n});\n\nexport type Store = Omit<\n  VuexStore<State>,\n  \"getters\" | \"commit\" | \"dispatch\"\n> & {\n  commit<K extends keyof Mutations, P extends Parameters<Mutations[K]>[1]>(\n    key: K,\n    payload: P,\n    options?: CommitOptions\n  ): ReturnType<Mutations[K]>;\n} & {\n  dispatch<K extends keyof Actions>(\n    key: K,\n    payload?: Parameters<Actions[K]>[1],\n    options?: DispatchOptions\n  ): ReturnType<Actions[K]>;\n} & {\n  getters: {\n    [K in keyof Getters]: ReturnType<Getters[K]>;\n  };\n};\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store\";\nimport \"./assets/styles/main.scss\";\n\ncreateApp(App).use(store).mount(\"#app\");\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=4ed6ced3&lang=scss&scoped=true\""],"sourceRoot":""}